<section id="nice" data-tool="mdniceç¼–è¾‘å™¨" data-website="https://www.mdnice.com" style="padding: 0 10px; word-spacing: 0px; word-wrap: break-word; text-align: left; font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif; line-height: 1.6; letter-spacing: .034em; color: rgb(63, 63, 63); font-size: 16px; word-break: all;"><blockquote class="multiquote-1" data-tool="mdniceç¼–è¾‘å™¨" style="border: none; font-size: 0.9em; overflow: auto; overflow-scrolling: touch; background: rgba(0, 0, 0, 0.05); color: #6a737d; padding-top: 10px; padding-bottom: 10px; padding-left: 20px; padding-right: 10px; margin-bottom: 20px; margin-top: 20px; padding: 15px 20px; line-height: 27px; background-color: #FBF9FD; border-left: 4px solid #409EFF; display: block;">
<p style="padding-bottom: 8px; padding-top: 1em; margin: 0px; line-height: 26px; padding: 0px; font-size: 15px; color: rgb(89,89,89);">å¤§å®¶å¥½~æˆ‘æ˜¯<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">ç±³æ´›</code>ï¼<br>
æˆ‘æ­£åœ¨ä»0åˆ°1æ‰“é€ ä¸€ä¸ªå¼€æºçš„æ¥å£æµ‹è¯•å¹³å°, ä¹Ÿåœ¨ç¼–å†™ä¸€å¥—ä¸ä¹‹å¯¹åº”çš„å®Œæ•´<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">æ•™ç¨‹</code>ï¼Œå¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒã€‚<br>
æ¬¢è¿å…³æ³¨æˆ‘çš„å…¬ä¼—å·<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">æµ‹è¯•å¼€å‘å‘è´§</code>ï¼Œè·å–æœ€æ–°æ–‡ç« æ•™ç¨‹!</p>
</blockquote>
<h3 data-tool="mdniceç¼–è¾‘å™¨" style="margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin-top: 1.2em;"><span>ğŸ“’ </span><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 17px; font-weight: bold; display: inline-block; margin-left: 8px; color: #409EFF;">å›é¡¾</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">ä¸Šä¸€èŠ‚æˆ‘ä»¬ç¼–å†™äº†Redisçš„ç›¸å…³é…ç½®ç¼–è¾‘é¡µé¢ï¼Œåšä¸»è¿™é‡Œä¹Ÿè¶çƒ­æ‰“é“ï¼ŒæŠŠ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">å‰ç«¯é¡µé¢</code>å®Œå–„äº†ã€‚ï¼ˆå¯èƒ½ä¼šæœ‰ä¸€ç‚¹ç‚¹å°é—®é¢˜ï¼Œä½†åº”è¯¥ä¸»æµç¨‹éƒ½æ­£å¸¸ï¼‰</p>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">å…¶å®å’Œå…¶ä»–é…ç½®ç®¡ç†é¡µé¢å·®ä¸å¤šï¼Œå‰ç«¯ä¼˜åŒ–äº†ä¸€ä¸‹<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">é¢åŒ…å±‘</code>ï¼Œé¡¶éƒ¨çš„èœå•ä¹Ÿæ”¾å›åˆ°å·¦ä¾§äº†ã€‚çœ‹çœ‹macä¸‹çš„æ•ˆæœ:</p>
<figure data-tool="mdniceç¼–è¾‘å™¨" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://static.pity.fun/picture/2021-11-14/1636889937000-image.png" alt="è¿™é‡Œæˆ‘ç»™è‡ªå·±æœ¬åœ°éƒ¨ç½²äº†ä¸ªå•å®ä¾‹çš„redis" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 4px; margin-bottom: 25px;"><figcaption style="margin-top: 5px; text-align: center; color: #888; display: block; font-size: 12px; font-family: PingFangSC-Light;">è¿™é‡Œæˆ‘ç»™è‡ªå·±æœ¬åœ°éƒ¨ç½²äº†ä¸ªå•å®ä¾‹çš„redis</figcaption></figure>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">æœç´¢é€‰é¡¹æ”¹åŠ¨äº†ä¸€äº›ï¼Œæ‰€è§å³æ‰€å¾—ï¼Œå¦‚æœæœç´¢é¡¹å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆå†…å®¹ä¹Ÿä¼šéšä¹‹åˆ‡æ¢</p>
<h3 data-tool="mdniceç¼–è¾‘å™¨" style="margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin-top: 1.2em;"><span>ğŸ“’ </span><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 17px; font-weight: bold; display: inline-block; margin-left: 8px; color: #409EFF;">å…³äºRediså®¢æˆ·ç«¯çš„é€‰ç”¨</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">å…¶å®åœ¨è¿™ä¸ªé—®é¢˜ä¸Šæˆ‘æ˜¯æ¯”è¾ƒ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">çº ç»“</code>çš„ï¼Œredisæœ‰starå¾ˆå¤šçš„pyå®¢æˆ·ç«¯ï¼Œä¹Ÿæœ‰ä¸ä¹‹å¯¹åº”çš„é›†ç¾¤ç‰ˆæœ¬ã€‚ä½†ä»–ä»¬å¹¶ä¸æ”¯æŒ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">asyncio</code>ã€‚</p>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">è€Œæ”¯æŒasyncioçš„aioredisï¼Œæœ¬èº«æ˜¯ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œä½†äººå®¶æ²¡æœ‰æ”¯æŒredisé›†ç¾¤çš„è®¡åˆ’ã€‚orz</p>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">æ‰€ä»¥ä»Šå¤©æƒ³çš„æ˜¯è¦ä¸å°±ç”¨ä¸ªåŒæ­¥çš„redis-cluster-pyåº“ç®—äº†ï¼Œä¸è¿‡åœ¨æˆ‘ç¿»äº†githubä¸€æ®µæ—¶é—´ï¼Œå‘ç°äº†ä¸ªå«aredisçš„å¼‚æ­¥åº“ã€‚å¤§æ¦‚ç…äº†ä¸‹ï¼Œä»–åŸºæœ¬ä¸Šæ˜¯ä¿æŒäº†å’Œredis-cluster-pyæ¥è¿‘çš„apiï¼Œå¯èƒ½ä¹Ÿæ˜¯ä¸ºäº†<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">å¸å¼•ç”¨æˆ·</code>ã€‚</p>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">æ‰€ä»¥å’±ä»¬å°±å…ˆè¯•éªŒä¸€ä¸‹ï¼Œå°ç™½é¼ å˜›ï¼Œæ€»å¾—æœ‰äººæ¥åšã€‚</p>
<h3 data-tool="mdniceç¼–è¾‘å™¨" style="margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin-top: 1.2em;"><span>ğŸ“’ </span><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 17px; font-weight: bold; display: inline-block; margin-left: 8px; color: #409EFF;">å®‰è£…aredis</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">çœ‹å®˜ç½‘æ˜¯è¦å®‰è£…<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">aredis[hiredis]</code>ï¼Œä½†æˆ‘å¥½åƒä¸é€‚åˆè¿™æ ·æ–¹å¼ï¼Œäºæ˜¯æˆ‘åˆ†å¼€è£…:</p>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">pip3&nbsp;install&nbsp;aredis&nbsp;hiredis<br></code></pre>
<h3 data-tool="mdniceç¼–è¾‘å™¨" style="margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin-top: 1.2em;"><span>ğŸ“’ </span><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 17px; font-weight: bold; display: inline-block; margin-left: 8px; color: #409EFF;">ç¼–å†™RedisManager</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">å…¶å®è¿™é‡Œè¿˜æ˜¯å’Œ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">MySQL</code>æ¯”è¾ƒæ¥è¿‘çš„ï¼Œä¹Ÿæ˜¯é€šè¿‡ä¸€ä¸ªå­—å…¸å­˜æ”¾å„ä¸ªredisçš„è¿æ¥é…ç½®ã€‚</p>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">ä¸è¿‡ç”±äºRedisçš„é›†ç¾¤å’Œå•å®ä¾‹è¿˜æœ‰ä¸€ç‚¹åŒºåˆ«ï¼ˆå¥½åœ¨æˆ‘ä»¬ç¼–å†™é…ç½®çš„æ—¶å€™å°±å‡†å¤‡å¥½äº†ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ€å¥½æ˜¯é’ˆå¯¹å•å®ä¾‹å’Œé›†ç¾¤åˆ†åˆ«ç¼–å†™2ä¸ªmapå­˜æ”¾ä»–ä»¬çš„clientï¼Œå½“ç„¶1ä¸ªä¹Ÿæ˜¯okçš„ã€‚</p>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">æ•´ä½“æµç¨‹: ä»å­—å…¸è·å–å®¢æˆ·ç«¯ï¼Œå¦‚æœæ²¡æœ‰åˆ™æ–°å¼€ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œå¹¶æ”¾å…¥ç¼“å­˜ï¼Œæœ‰åˆ™è¿”å›ã€‚</p>
<ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><p style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">å¯èƒ½å­˜åœ¨çš„é—®é¢˜</p>
<p style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;"><strong style="font-weight: bold; line-height: 1.75em; color: rgb(74,74,74);">ä»£ç ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œéœ€è¦è§‚å¯Ÿæ˜¯å¦éœ€è¦åŠ é”</strong></p>
<p style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;"><strong style="font-weight: bold; line-height: 1.75em; color: rgb(74,74,74);">ç¼“å­˜ä¸åƒLRUä¼šé™é¢‘ï¼Œä¹Ÿä¸èƒ½è‡ªåŠ¨è¿‡æœŸ</strong></p>
<p style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">å¯¹æˆ‘æ¥è¯´ç¬¬ä¸€ä¸ªè‚¯å®šæ˜¯ä¸ªå¤§é—®é¢˜ï¼Œå¦‚æœå‡ºç°äº†å°±å¿…é¡»å¾—è§£å†³ã€‚è‡³äºç¬¬äºŒä¸ªé—®é¢˜ï¼Œç”±äºredisé…ç½®å¾ˆå°‘å˜åŠ¨ï¼Œè€Œä¸”æˆ‘ä»¬æœ¬èº«æ˜¯è¿æ¥æ± çš„å½¢å¼ï¼Œæ‰€ä»¥å½±å“ä¸ç®—å¤§ã€‚</p>
<p style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">è¯ä¸å¤šè¯´ï¼Œç°åœ¨æˆ‘ä»¬å°±æ¥ç¼–å†™å§:</p>
</section></li></ul>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;"><span class="hljs-string" style="color: #98c379; line-height: 26px;">"""<br>rediså®¢æˆ·ç«¯ï¼ŒåŸºäºaredis(æ”¯æŒé›†ç¾¤ï¼Œaioredisä¸æ”¯æŒé›†ç¾¤)<br>"""</span><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">from</span>&nbsp;aredis&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">import</span>&nbsp;StrictRedisCluster,&nbsp;ClusterConnectionPool,&nbsp;ConnectionPool,&nbsp;StrictRedis<br><br><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">from</span>&nbsp;app.excpetions.RedisException&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">import</span>&nbsp;RedisException<br><br><br><span class="hljs-class" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">class</span>&nbsp;<span class="hljs-title" style="color: #e6c07b; line-height: 26px;">PityRedisManager</span><span class="hljs-params" style="line-height: 26px;">(object)</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"""éçº¿ç¨‹å®‰å…¨ï¼Œå¯èƒ½å­˜åœ¨é—®é¢˜<br>&nbsp;&nbsp;&nbsp;&nbsp;"""</span><br>&nbsp;&nbsp;&nbsp;&nbsp;_cluster_pool&nbsp;=&nbsp;dict()<br>&nbsp;&nbsp;&nbsp;&nbsp;_pool&nbsp;=&nbsp;dict()<br><br><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">def</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">get_cluster_client</span><span class="hljs-params" style="line-height: 26px;">(redis_id:&nbsp;int,&nbsp;addr:&nbsp;str)</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"""<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è·å–redisé›†ç¾¤å®¢æˆ·ç«¯<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;redis_id:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;addr:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:return:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"""</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cluster&nbsp;=&nbsp;PityRedisManager._cluster_pool.get(redis_id)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">if</span>&nbsp;cluster&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">is</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">not</span>&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">None</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;cluster<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;=&nbsp;PityRedisManager.get_cluster(addr)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PityRedisManager._cluster_pool[redis_id]&nbsp;=&nbsp;client<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;client<br><br><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">def</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">get_single_node_client</span><span class="hljs-params" style="line-height: 26px;">(redis_id:&nbsp;int,&nbsp;addr:&nbsp;str,&nbsp;password:&nbsp;str,&nbsp;db:&nbsp;str)</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"""<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è·å–rediså•å®ä¾‹å®¢æˆ·ç«¯<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;redis_id:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;addr:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;password:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;db:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:return:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"""</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;=&nbsp;PityRedisManager._cluster_pool.get(redis_id)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">if</span>&nbsp;node&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">is</span>&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">not</span>&nbsp;<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">None</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;node<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host,&nbsp;port&nbsp;=&nbsp;addr.split(<span class="hljs-string" style="color: #98c379; line-height: 26px;">":"</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pool&nbsp;=&nbsp;ConnectionPool(host=host,&nbsp;port=port,&nbsp;db=db,&nbsp;max_connections=<span class="hljs-number" style="color: #d19a66; line-height: 26px;">100</span>,&nbsp;password=password,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decode_responses=<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">True</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;=&nbsp;StrictRedis(connection_pool=pool)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PityRedisManager._pool[redis_id]&nbsp;=&nbsp;PityRedisManager.get_cluster(addr)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;client<br><br><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">def</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">refresh_redis_client</span><span class="hljs-params" style="line-height: 26px;">(redis_id:&nbsp;int,&nbsp;addr:&nbsp;str,&nbsp;password:&nbsp;str,&nbsp;db:&nbsp;str)</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"""<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;åˆ·æ–°rediså®¢æˆ·ç«¯<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;redis_id:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;addr:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;password:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;db:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:return:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"""</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;host,&nbsp;port&nbsp;=&nbsp;addr.split(<span class="hljs-string" style="color: #98c379; line-height: 26px;">":"</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pool&nbsp;=&nbsp;ConnectionPool(host=host,&nbsp;port=port,&nbsp;db=db,&nbsp;max_connections=<span class="hljs-number" style="color: #d19a66; line-height: 26px;">100</span>,&nbsp;password=password,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decode_responses=<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">True</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;=&nbsp;StrictRedis(connection_pool=pool,&nbsp;decode_responses=<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">True</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PityRedisManager._pool[redis_id]&nbsp;=&nbsp;client<br><br><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">def</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">refresh_redis_cluster</span><span class="hljs-params" style="line-height: 26px;">(redis_id:&nbsp;int,&nbsp;addr:&nbsp;str)</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PityRedisManager._cluster_pool[redis_id]&nbsp;=&nbsp;PityRedisManager.get_cluster(addr)<br><br><span class="hljs-meta" style="color: #61aeee; line-height: 26px;">&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod</span><br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-function" style="line-height: 26px;"><span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">def</span>&nbsp;<span class="hljs-title" style="color: #61aeee; line-height: 26px;">get_cluster</span><span class="hljs-params" style="line-height: 26px;">(addr:&nbsp;str)</span>:</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"""<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;è·å–é›†ç¾¤è¿æ¥æ± <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:param&nbsp;addr:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:return:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"""</span><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">try</span>:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;addr.split(<span class="hljs-string" style="color: #98c379; line-height: 26px;">','</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;startup_nodes&nbsp;=&nbsp;[{<span class="hljs-string" style="color: #98c379; line-height: 26px;">"host"</span>:&nbsp;n.split(<span class="hljs-string" style="color: #98c379; line-height: 26px;">":"</span>)[<span class="hljs-number" style="color: #d19a66; line-height: 26px;">0</span>],&nbsp;<span class="hljs-string" style="color: #98c379; line-height: 26px;">"port"</span>:&nbsp;n.split(<span class="hljs-string" style="color: #98c379; line-height: 26px;">":"</span>)[<span class="hljs-number" style="color: #d19a66; line-height: 26px;">1</span>]}&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">for</span>&nbsp;n&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">in</span>&nbsp;nodes]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pool&nbsp;=&nbsp;ClusterConnectionPool(startup_nodes=startup_nodes,&nbsp;max_connections=<span class="hljs-number" style="color: #d19a66; line-height: 26px;">100</span>,&nbsp;decode_responses=<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">True</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;client&nbsp;=&nbsp;StrictRedisCluster(connection_pool=pool,&nbsp;decode_responses=<span class="hljs-literal" style="color: #56b6c2; line-height: 26px;">True</span>)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">return</span>&nbsp;client<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">except</span>&nbsp;Exception&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">as</span>&nbsp;e:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword" style="color: #c678dd; line-height: 26px;">raise</span>&nbsp;RedisException(<span class="hljs-string" style="color: #98c379; line-height: 26px;">f"è·å–Redisè¿æ¥å¤±è´¥,&nbsp;<span class="hljs-subst" style="color: #e06c75; line-height: 26px;">{e}</span>"</span>)<br><br></code></pre>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">æˆ‘ä»¬ä»¥æ•°æ®åº“çš„å”¯ä¸€idä¸ºkeyï¼Œç¼“å­˜redisçš„<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">è¿æ¥æ± </code>ã€‚</p>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">ç”±äºè¿æ¥æ± ä¼šè‡ªåŠ¨å¼€å¯/å…³é—­è¿æ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦æ‰‹åŠ¨å…³é—­å®¢æˆ·ç«¯ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>
<figure data-tool="mdniceç¼–è¾‘å™¨" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://static.pity.fun/picture/2021-11-14/1636890801403-image.png" alt="ä»”ç»†çœ‹çœ‹redisæ‰§è¡Œcommandçš„æ–¹æ³•ï¼Œé‡Œé¢ä¼šå¼€è¾Ÿè¿æ¥ï¼Œæœ€ç»ˆå…³é—­è¿æ¥ï¼Œè¿™å°±æ˜¯è¿æ¥æ± çš„å¥½å¤„ï¼Œè¿æ¥ä¸ä¼šè¿‡æœŸï¼Œå› ä¸ºæ¯æ¬¡éƒ½æ˜¯æ–°è·å–çš„" style="display: block; margin: 0 auto; max-width: 100%; border-radius: 4px; margin-bottom: 25px;"><figcaption style="margin-top: 5px; text-align: center; color: #888; display: block; font-size: 12px; font-family: PingFangSC-Light;">ä»”ç»†çœ‹çœ‹redisæ‰§è¡Œcommandçš„æ–¹æ³•ï¼Œé‡Œé¢ä¼šå¼€è¾Ÿè¿æ¥ï¼Œæœ€ç»ˆå…³é—­è¿æ¥ï¼Œè¿™å°±æ˜¯è¿æ¥æ± çš„å¥½å¤„ï¼Œè¿æ¥ä¸ä¼šè¿‡æœŸï¼Œå› ä¸ºæ¯æ¬¡éƒ½æ˜¯æ–°è·å–çš„</figcaption></figure>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">å¯ä»¥æ˜æ˜¾çœ‹åˆ°æˆ‘ä»¬åˆ†åˆ«ç”¨äº†ClusterConnectionPoolå’ŒConnectionPoolï¼Œåˆ†åˆ«å¯¹åº”é›†ç¾¤å’Œå®ä¾‹ã€‚å‚æ•°åŸºæœ¬ä¸Šç®—æ˜¯ä¸€è‡´ã€‚</p>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">è‡³äºrefreshï¼Œæ˜¯ç»™æ”¹åŠ¨redisä»¥ååšçš„<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">åˆ·æ–°è¿æ¥</code>çš„å·¥ä½œã€‚</p>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">ä»¥ä¸Šå°±æ˜¯RedisManagerçš„å†…å®¹ï¼Œåˆ°è¿™åªæ˜¯èƒ½å¤Ÿè·å–Rediså®¢æˆ·ç«¯äº†ã€‚</p>
<h3 data-tool="mdniceç¼–è¾‘å™¨" style="margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin-top: 1.2em;"><span>ğŸ“’ </span><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 17px; font-weight: bold; display: inline-block; margin-left: 8px; color: #409EFF;">å°è¯•ä¸€ä¸‹</span><span class="suffix" style="display: none;"></span></h3>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">æœ‰æ¡ä»¶çš„åŒå­¦å¯ä»¥æœ¬æ¬¡å®‰è£…redis:</p>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">$&nbsp;wget&nbsp;https://download.redis.io/releases/redis-6.2.6.tar.gz<br>$&nbsp;tar&nbsp;xzf&nbsp;redis-6.2.6.tar.gz<br>$&nbsp;<span class="hljs-built_in" style="color: #e6c07b; line-height: 26px;">cd</span>&nbsp;redis-6.2.6<br>$&nbsp;make<br></code></pre>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">makeäº†ä»¥åï¼Œä¿®æ”¹redis-6.2.6ç›®å½•ä¸‹çš„redis.conf, æ¥ç€å–æ¶ˆè¿™ä¸€è¡Œçš„æ³¨é‡Š:</p>
<figure data-tool="mdniceç¼–è¾‘å™¨" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://static.pity.fun/picture/2021-11-14/1636890999517-image.png" alt style="display: block; margin: 0 auto; max-width: 100%; border-radius: 4px; margin-bottom: 25px;"></figure>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">ä½¿ç”¨å¯†ç æ¨¡å¼ï¼ˆredisæœ€å¥½æ˜¯åŠ å¯†ç ï¼Œç«¯å£å·ä¹Ÿå°½é‡ä¸è¦ç”¨åŸç”Ÿçš„6379ï¼Œæœ¬å®å®æœ‰å°æœºå™¨è¢«äººé€šè¿‡redisæ¤å…¥äº†æŒ–çŸ¿ç¨‹åºï¼Œ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">è‹¦ä¸å ªè¨€</code>ï¼‰</p>
<ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">åœ¨redis-6.2.6ç›®å½•ä¸‹å¯åŠ¨</section></li></ul>
<pre class="custom" data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 10px; margin-bottom: 10px; border-radius: 5px; box-shadow: rgba(0, 0, 0, 0.55) 0px 2px 10px;"><span style="display: block; background: url(https://files.mdnice.com/user/3441/876cad08-0422-409d-bb5a-08afec5da8ee.svg); height: 30px; width: 100%; background-size: 40px; background-repeat: no-repeat; background-color: #282c34; margin-bottom: -7px; border-radius: 5px; background-position: 10px 10px;"></span><code class="hljs" style="overflow-x: auto; padding: 16px; color: #abb2bf; display: -webkit-box; font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; font-size: 12px; -webkit-overflow-scrolling: touch; padding-top: 15px; background: #282c34; border-radius: 5px;">src/redis-server&nbsp;redis.conf<br></code></pre>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">è¿™æ ·æœ¬åœ°redisçš„å®ä¾‹å°±å¯åŠ¨äº†~</p>
<figure data-tool="mdniceç¼–è¾‘å™¨" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://static.pity.fun/picture/2021-11-14/1636891245569-image.png" alt style="display: block; margin: 0 auto; max-width: 100%; border-radius: 4px; margin-bottom: 25px;"></figure>
<h3 data-tool="mdniceç¼–è¾‘å™¨" style="margin-bottom: 15px; padding: 0px; font-weight: bold; color: black; font-size: 20px; margin-top: 1.2em;"><span>ğŸ“’ </span><span class="prefix" style="display: none;"></span><span class="content" style="font-size: 17px; font-weight: bold; display: inline-block; margin-left: 8px; color: #409EFF;">ç¼–å†™ä¸ªåœ¨çº¿æµ‹è¯•redisçš„æ¥å£</span><span class="suffix" style="display: none;"></span></h3>
<figure data-tool="mdniceç¼–è¾‘å™¨" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://static.pity.fun/picture/2021-11-14/1636891192849-image.png" alt style="display: block; margin: 0 auto; max-width: 100%; border-radius: 4px; margin-bottom: 25px;"></figure>
<ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><p style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">å…ˆé€šè¿‡idæ‹¿åˆ°redisçš„é…ç½®ä¿¡æ¯</p>
</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><p style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">ç„¶åé€šè¿‡manageræ‹¿åˆ°è¿æ¥æ± </p>
</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><p style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">å¯¹rediså‘åŠ¨å‘½ä»¤</p>
<p style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">æˆ‘ä»¬åœ¨http://localhost:7777/docsæ‰“å¼€swaggerè°ƒè¯•:</p>
</section></li><li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;"><p style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">è¯»å–faker</p>
</section></li></ul>
<figure data-tool="mdniceç¼–è¾‘å™¨" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://static.pity.fun/picture/2021-11-14/1636891330900-image.png" alt style="display: block; margin: 0 auto; max-width: 100%; border-radius: 4px; margin-bottom: 25px;"></figure>
<ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">è®¾ç½®fakerä¸ºs12</section></li></ul>
<figure data-tool="mdniceç¼–è¾‘å™¨" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://static.pity.fun/picture/2021-11-14/1636891376666-image.png" alt style="display: block; margin: 0 auto; max-width: 100%; border-radius: 4px; margin-bottom: 25px;"></figure>
<ul data-tool="mdniceç¼–è¾‘å™¨" style="margin-top: 8px; margin-bottom: 8px; padding-left: 25px; color: black; list-style-type: disc;">
<li><section style="margin-top: 5px; margin-bottom: 5px; line-height: 26px; text-align: left; color: rgb(1,1,1); font-weight: 500;">å†æ¬¡å–faker</section></li></ul>
<figure data-tool="mdniceç¼–è¾‘å™¨" style="margin: 0; margin-top: 10px; margin-bottom: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;"><img src="https://static.pity.fun/picture/2021-11-14/1636891400135-image.png" alt style="display: block; margin: 0 auto; max-width: 100%; border-radius: 4px; margin-bottom: 25px;"></figure>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">å¯ä»¥çœ‹åˆ°redisçš„ç›¸å…³æ“ä½œå·²ç»æ˜¯å¯ä»¥ç”¨äº†ï¼Œé‚£æˆ‘ä»¬ä»Šå¤©çš„å†…å®¹å°±åˆ°è¿™äº†ï¼Œæ„‰å¿«çš„å‘¨æœ«æ€»æ˜¯è¾£ä¹ˆ<code style="font-size: 14px; word-wrap: break-word; padding: 2px 4px; border-radius: 4px; margin: 0 2px; background-color: rgba(27,31,35,.05); font-family: Operator Mono, Consolas, Monaco, Menlo, monospace; word-break: break-all; color: #409EFF;">çŸ­æš‚</code>ã€‚</p>
<p data-tool="mdniceç¼–è¾‘å™¨" style="font-size: 16px; padding-bottom: 8px; margin: 0; padding-top: 1em; color: rgb(74,74,74); line-height: 1.75em;">ä¸‹ä¸€èŠ‚æˆ‘ä»¬å°±å¾—ç¼–å†™åœ¨çº¿æ‰§è¡ŒRedisçš„å‘½ä»¤åŠç›¸å…³é¡µé¢äº†ï¼</p>
</section>